{"version":3,"file":"laxar-patterns.with-deps.min.js","sources":["laxar-patterns.with-deps.js"],"names":["define","ng","ax","publisherForFeature","scope","feature","optionalOptions","action","object","path","features","publisher","assert","hasType","Object","hasProperty","String","isNotNull","options","deliverToSender","onSuccess","NOOP","onError","onComplete","Function","eventBusOptions","timeout","pendingDidTimeout","optionalEvent","event","eventBus","publishAndGatherReplies","then","didResponses","failed","some","response","outcome","OUTCOME_ERROR","slice","handlerFor","ActionHandler","this","scope_","callHandler","handler","meta","publish","DELIVER_TO_SENDER","returnValue","responseEvent","OUTCOME_SUCCESS","error","$q","when","promiseValue","isObject","eventName","injector","invoke","_$q_","prototype","registerActionsFromFeature","actions","registerActions","Array","self","forEach","subscribe","errorPublisherForFeature","featurePath","localizer","featureConfiguration","code","messagePath","data","cause","rawMessage","message","string","format","FlagHandler","registerFlagFromFeature","registerFlag","possibleFlags","predicate","applyToScope","state","setPath","scopeKey","bind","flags","processFlags_","changeHandler","processChangeHandlers_","onChange","oldState","initialState","evaluateState_","flag","name","negated","newState","flagArr","isArray","map","flagExpression","indexOf","substr","handlers","handlerArr","newValue","oldValue","reduce","evaluators_","any","previousValue","all","i18nPath","handleLocaleChangeEvent","locale","tags","previousTag","languageTag","callbacksByLocale","cb","prepareScopeI18n","result","registerLocale","possibleLocales","locales","concat","registerLocaleFromFeature","entry","scopeLocaleFromFeature","i18n","fallback","partial","i18nValue","tag","model","i18nLocalizer","apply","arguments","__extends","d","b","__","constructor","p","hasOwnProperty","OriginalError","Error","jsonpatch","_equals","a","_isArray","length","i","l","bKeys","_objectKeys","bLength","escapePathComponent","str","replace","_getPathRecursive","root","obj","found","key","getPath","getMirror","ilen","beforeDict","getObserverFromMirror","mirror","callback","j","jlen","observers","observer","removeObserverFromMirror","splice","unobserve","generate","observe","_unobserve","clearTimeout","next","deepClone","JSON","parse","stringify","patches","Mirror","push","arr","_observe","alen","type","observeOps","call","value","intervals","currentInterval","dirtyCheck","fastCheck","setTimeout","slowCheck","window","addEventListener","document","documentElement","attachEvent","ObserverInfo","v","deliverChangeRecords","_generate","temp","newKeys","oldKeys","changed","deleted","t","oldVal","newVal","op","isInteger","charCode","len","charCodeAt","tree","validate","patch","plen","keys","split","existingPathFragment","undefined","join","validator","rootOps","JsonPatchError","parseInt","arrOps","objOps","compare","tree1","tree2","operation","index","from","pathLen","existingPathLen","existingValue","sequence","e","o","add","remove","move","copy","test","_get","delete","update","_super","exports","global","ret","jsonPatch","getPointer","pointer","usesEscapes","setPointer","pointerToPath","pathToPointer","applyPatch","createPatch","patchMap","sort","create","base","createPatchesRecursively","charAt","val","nextPath","clean","targetType","subjectType","merge","first","second","resultMap","firstKeys","secondKeys","firstKey","secondKey","firstKeyAsPathFragment","change","tmp","toString","toLowerCase","replaceHandler","context","modelKey","resourceBucket","provideResourceBucket","updateHandler","replacePublisherForFeature","resourceName","replacement","resource","updatePublisherForFeature","log","trace","widget","id","get","compareAndPublish","to","ResourceHandler","context_","externalHandlers_","modelHandlers_","waitingFor_","allReplacedCallback_","appendFunctionOrArrayOfFunctions","target","funcOrArray","resources","isSame","resourceA","resourceB","compareAttributes","matches","valueA","valueB","registerResourceFromFeature","isOptional","lastIndexOf","registerResource","omitFirstReplace","registerResourceHandlers_","registerForReplace_","registerForUpdate_","whenAllWereReplaced","onceCallback","watch","wereAllReplaced","ignoringFirstCall","f","ignore","onReplace","onUpdate","onUpdateReplace","replaceHandlers","createEvent","htmlMessages","msg","htmlMessage","level","messagesFromArgs","messages","args","successEvent","errorEvent","VisibilityHandler","isVisible","onAnyAreaRequest","requestEvent","responder","didEvent","area","wasVisible","visible","onShow","onHide","requestPublisherForWidget","requestPublisherForArea","registerArea","areaName","onRequest","errors","json","validation","visibility","main"],"mappings":"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"}